@import '~@hi-ui/core-css/lib/index.scss';

$prefix: '#{$component-prefix}-table' !default;

.#{$prefix} {
  box-sizing: border-box;
  font-size: 14px;
  overflow: auto;

  table {
    width: 100%;
    text-align: left;
    border-radius: 2px 2px 0 0;
    border-collapse: separate;
    border-spacing: 0;
    background: #fff;
  }

  &__wrapper {
    position: relative;
  }

  &--striped {
    .#{$prefix}__row:nth-child(2n) {
      // background-color: use-color('gray', 50);

      .#{$prefix}-cell {
        background-color: use-color('gray', 50);
      }
    }
  }

  &--sticky {
    position: sticky;
    top: 0;
  }

  &__header {
    & > tr {
      & > th {
        padding: 16px;
        color: #999;
        background: rgb(251, 251, 251);
        border-bottom: 1px solid #f0f0f0;
        font-weight: 500;
      }
    }
  }

  &__body {
    // & > tr {
    //   & > td {
    //     background: #fff;
    //     white-space: nowrap;
    //     padding: 16px;
    //     color: #333;
    //     border-bottom: 1px solid #f0f0f0;
    //   }
    // }
  }

  &-row {
    &:hover {
      & > td {
        background-color: use-color-mode('primary-10');
      }
    }

    &__indent {
      display: inline-block;
      width: 14px;
      height: 100%;
    }

    &--hovered {
      background: #f0f5fe;
    }

    &--expanded {
      background: #fbfbfb;

      & > td {
        color: use-color('gray', 800);
      }
    }

    &--error {
      & > td {
        color: use-color-mode('danger');
      }
    }

    &--highlight {
      & > td {
        background-color: use-color-mode('primary-10');
      }
    }

    &--dragging {
      // background: use-color('primary-20');
      background-color: use-color-mode('primary-10');

      // .hi-table__col--sticky {
      //   background: use-color('primary-20');
      // }
    }

    &--drag-top {
      // TODO: 使用伪类，避免位置抖动
      td {
        border-top: 2px dashed use-color-mode('primary');
      }
    }

    &--drag-bottom {
      td {
        border-bottom: 2px dashed use-color-mode('primary');
      }
    }
  }
}

// 单元格
.#{$prefix}-cell {
  // background: #fff;
  // white-space: nowrap;
  padding: 16px;
  color: #333;
  border-bottom: 1px solid #f0f0f0;
  word-break: break-word;

  &__col--hovered-highlight {
    background-color: use-color-mode('primary-10');
  }
}

// 冻结列 阴影
.#{$prefix}-freeze-shadow {
  position: absolute;
  top: 0;
  bottom: 0;
  z-index: 20;
  pointer-events: none;
  overflow: hidden;
  height: 100%;
  width: 200px;

  &--left {
    margin-right: 10px;
    left: 0;
    box-shadow: 6px 0 6px -4px rgba(0, 0, 0, 0.15);
  }

  &--right {
    margin-left: 10px;
    right: 0;
    box-shadow: -6px 0 6px -4px rgba(0, 0, 0, 0.15);
  }
}
