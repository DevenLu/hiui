# SelectTree 树形选择

一种接收树形数据结构的选择器，为用户提供复杂数据展示的能力

## 何时使用

- 选择部门的组织结构、部门等
- 选择商品目录等

## 类型

## 基础单选

import DemoSingle from '../../demo/select-tree/section-single'

<DemoSingle />

## 基础多选

import DemoMultiple from '../../demo/select-tree/section-multiple'

<DemoMultiple />

## 数据过滤

import DemoFilter from '../../demo/select-tree/section-filter'

<DemoFilter />

## 异步节点

import DemoAsync from '../../demo/select-tree/section-async'

<DemoAsync />

## 面包屑节点

import DemoBread from '../../demo/select-tree/section-bread'

<DemoBread />

## Props

| 参数             | 说明                                                             | 类型                                                 | 可选值                                                                                                     | 默认值                                                                |
| ---------------- | ---------------------------------------------------------------- | ---------------------------------------------------- | ---------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------- |
| data             | 展示数据                                                         | DataItem []                                          | -                                                                                                          | -                                                                     |
| fieldNames       | 设置 data 中 id, title, disabled, children 对应的 key (3.0 新增) | object                                               | -                                                                                                          | { title: 'title', id: 'id',disabled:'disabled', children: 'children'} |
| showCheckedMode  | 数据回显模式                                                     | string                                               | ALL: 所有被选中节点，不区分父子节点 <br/>PARENT: 当所有子节点被选中时将只保留父节点<br/>CHILD:仅显示子节点 | ALL                                                                   |
| mode             | 数据展示形式                                                     | string                                               | normal \| breadcrumb                                                                                       | normal                                                                |
| type             | 数据选择类型                                                     | string                                               | single \| multiple                                                                                         | single                                                                |
| bordered         | 是否有边框                                                       | boolean                                              | true \| false                                                                                              | true                                                                  |
| disabled         | 是否禁用                                                         | boolean                                              | true \| false                                                                                              | false                                                                 |
| defaultExpandAll | 是否默认展开所有树节点                                           | boolean                                              | true \| false                                                                                              | false                                                                 |
| defaultExpandIds | 默认高亮的节点（非受控）                                         | string[]                                             | -                                                                                                          | -                                                                     |
| defaultValue     | 默认选中项 （非受控）                                            | DataItem[] \| string[] \| string                     | -                                                                                                          | -                                                                     |
| value            | 默认选中项 （受控）                                              | DataItem[] \| string[] \| string                     | -                                                                                                          | -                                                                     |
| valueRender      | 自定义渲染 Input 中展示内容                                      | (checkedNodes \| checkedNode) => ReactNode \| string | -                                                                                                          | -                                                                     |
| placeholder      | 输入框占位                                                       | string                                               | -                                                                                                          | 请选择                                                                |
| searchMode       | 节点搜索模式，仅在*mode=normal*模式下生效                        | string                                               | highlight \| filter                                                                                        | -                                                                     |
| autoload         | 从远端获取数据，初始时是否自动加载                               | boolean                                              | true \| false                                                                                              | false                                                                 |
| dataSource       | 异步加载数据                                                     | (key: string) => DataSource \| DataSource \| Promise | -                                                                                                          | -                                                                     |
| emptyContent     | 没有选项时的提示                                                 | string \| ReactNode                                  | -                                                                                                          | 无内容                                                                |
| optionWidth      | 自定义下拉选项宽度                                               | number                                               | -                                                                                                          |                                                                       |
| overlayClassName | 下拉根元素的类名称 (3.0 新增)                                    | string                                               | -                                                                                                          | -                                                                     |

<!-- | expandIds        | 默认高亮的节点（受控）                    | string[]                                                                    | -                                                                                                          | -      | -->

## Events

| 名称     | 说明       | 类型                                                                        | 参数                                                                                                                                    | 返回值 |
| -------- | ---------- | --------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------- | ------ |
| onChange | 选中时触发 | (checkedIds \| checkedId, checkedNodes \| checkedNode, currentNode) => void | checkedIds \| checkedId: 选中项 ID 集合\|ID <br/> checkedNodes \| checkedNode: 选中项数据项集合\|数据项 <br/> currentNode: 当前操作节点 | -      |

### DataItem

| 参数     | 说明            | 类型             | 可选值 | 默认值 |
| -------- | --------------- | ---------------- | ------ | ------ |
| title    | 下拉选项标题    | string           | -      | -      |
| id       | 下拉选项唯一 id | string \| number | -      | -      |
| disabled | 是否禁用        | boolean          | -      | false  |
| children | 子级数据        | DataItem[]       | -      | -      |

### DataSource

| 参数              | 说明                               | 类型                             | 可选值                                             | 默认值        |
| ----------------- | ---------------------------------- | -------------------------------- | -------------------------------------------------- | ------------- |
| url               | 请求的 url                         | string                           | -                                                  | -             |
| type              | 请求方法                           | string                           | get \| post                                        | get           |
| data              | post 请求时请求体参数              | object                           | -                                                  | -             |
| params            | url 查询参数                       | object                           | -                                                  | -             |
| headers           | 请求头                             | object                           | -                                                  | -             |
| mode              | 请求模式                           | string                           | 'same-origin' \| 'cors' \| 'no-cors' \| 'navigate' | 'same-origin' |
| transformResponse | 成功时的回调，用于对数据进行预处理 | (response: object) => DataItem[] | -                                                  | -             |
