# Select 选择器

选择器是一种接收数据的容器，为用户提供选择一部分数据的能力。

## 何时使用

需要从大量的离散型数据中选择一部分时使用

备选项数量 5 个以上时

不需要将全部备选项都展示给用户时

## 类型

## 基础单选

import DemoType from '../../demo/select/section-type'

<DemoType />

## 基础多选

import DemoSingleMultiple from '../../demo/select/section-single-multiple'

<DemoSingleMultiple />

## 自定义用法

import DemoCustom from '../../demo/select/section-custom'

<DemoCustom />

## 异步用法

import DemoAsync from '../../demo/select/section-async'

<DemoAsync />

## 自定义异步搜索

import DemodataSourcecustom from '../../demo/select/section-dataSource-custom'

<DemodataSourcecustom />

## 分组

import DemoSelectGroup from '../../demo/select/select-group'

<DemoSelectGroup />

## 数据转换

import DemoSelectfieldNames from '../../demo/select/select-fieldNames'

<DemoSelectfieldNames />

## 拼音搜索

import DemoSelectsearchbypinyin from '../../demo/select/section-searchbypinyin'

<DemoSelectsearchbypinyin />

## Props

| 参数                | 说明                                                                                                     | 类型                                                                | 可选值                                       | 默认值                                                                |
| ------------------- | -------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------- | -------------------------------------------- | --------------------------------------------------------------------- |
| type                | 下拉框类型                                                                                               | string                                                              | 'single' \| 'multiple'                       | 'single'                                                              |
| data                | 下拉框选项数据源                                                                                         | DataItem[] \| groupData[]                                           | -                                            | -                                                                     |
| fieldNames          | 设置 data 中 id, title, disabled, children 对应的 key (3.0 新增)                                         | object                                                              | -                                            | { title: 'title', id: 'id',disabled:'disabled', children: 'children'} |
| dataSource          | 异步下拉框选项数据源                                                                                     | DataSource (keyword: string) => (DataSource \| DataItem \| Promise) | -                                            | -                                                                     |
| value               | 被选中项的值                                                                                             | string \| string[]                                                  | -                                            | -                                                                     |
| defaultValue        | 默认被选中项的值                                                                                         | string \| string[]                                                  | -                                            | -                                                                     |
| showCheckAll        | 是否显示**全选**，只对多选生效                                                                           | boolean                                                             | true \| false                                | false                                                                 |
| showJustSelected    | 是否显示**仅看已选**，只对多选生效 (3.0 新增)                                                            | boolean                                                             | true \| false                                | false                                                                 |
| multipleWrap        | 多选模式下是否允许选中结果折行，不建议折行因为会变成动态高度                                             | string                                                              | 'wrap' \| 'nowrap'                           | 'nowrap'                                                              |
| searchable          | 是否可以筛选                                                                                             | boolean                                                             | true \| false                                | false                                                                 |
| filterOption        | 第一个参数为输入的关键字，第二个为数据项，返回值为 true 时将出现在结果项。仅在 searchable 为 true 时有效 | (keyword: string, item: DataItem) => boolean                        | (keyword: string, item: DataItem) => boolean | -                                                                     |
| clearable           | 是否可以清空                                                                                             | boolean                                                             | true \| false                                | true                                                                  |
| autoload            | origin 从远端获取数据，初始时是否自动加载                                                                | boolean                                                             | true \| false                                | false                                                                 |
| disabled            | 是否禁用                                                                                                 | boolean                                                             | true \| false                                | false                                                                 |
| placeholder         | 输入框占位                                                                                               | string                                                              | -                                            | 请选择                                                                |
| emptyContent        | 没有选项时的提示                                                                                         | string \| ReactNode                                                 | -                                            | 无内容                                                                |
| style               | 自定义样式                                                                                               | object                                                              | -                                            |                                                                       |
| bordered            | 是否有边框                                                                                               | boolean                                                              | true \| false                                                |             true                                                          |
| optionWidth         | 自定义下拉选项宽度                                                                                       | number                                                              | -                                            |                                                                       |
| render              | 自定义下拉菜单渲染函数，回调值为选项数据和是否被选中                                                     | (item: DataItem, selected: boolean) => ReactNode                    | -                                            | 无内容                                                                |
| overlayClassName    | 下拉根元素的类名称 (3.0 新增)                                                                            | string                                                              | -                                            | -                                                                     |
| onOverlayScroll    | 下拉列表滚动时的回调                                                                            | function                                                              | -                                            | -                                                                     |
| onSearch            | 下拉弹层中文本框值变化时回调                                                                            | function(value: string)                                                              | -                                            | -                                                                     |
| setOverlayContainer | 如遇到菜单滚动定位问题，试试修改为滚动的区域，并相对其定位 (3.0 新增)                                    | function(triggerNode)                                               | -                                            | () => document.body                                                   |

> 注意，如果发现下拉菜单跟随页面滚动，或者需要在其他弹层中触发 Select，请尝试使用 setOverlayContainer={triggerNode => triggerNode.parentElement} 将下拉弹层渲染节点固定在触发器的父元素中。

## Events

| 名称     | 说明               | 类型                                                   | 参数                                                             | 返回值 |
| -------- | ------------------ | ------------------------------------------------------ | ---------------------------------------------------------------- | ------ |
| onChange | 改变选项时触发函数 | (selectedIds: string[], changedItem: DataItem, changedItems:DataItem[]) => void | selectedIds: 所有选中项的 id 集合 <br /> changedItem: 变更的选项 | -      |

## Type

### groupData

| 参数       | 说明              | 类型             | 可选值 | 默认值 |
| ---------- | ----------------- | ---------------- | ------ | ------ |
| groupTitle | 下拉选项组标题    | string           | -      | -      |
| groupId    | 下拉选项组唯一 id | string \| number | -      | -      |
| children   | 分组的时候使用    | DataItem[]       | -      | -      |

### DataItem

| 参数  | 说明            | 类型             | 可选值 | 默认值 |
| ----- | --------------- | ---------------- | ------ | ------ |
| title | 下拉选项标题    | string           | -      | -      |
| id    | 下拉选项唯一 id | string \| number | -      | -      |

### DataSource

> 继承 [Axios](https://www.kancloud.cn/yunye/axios/234845) 的 api

| 参数              | 说明                               | 类型                             | 可选值        | 默认值 |
| ----------------- | ---------------------------------- | -------------------------------- | ------------- | ------ |
| url               | 请求的 url                         | string                           | -             | -      |
| method            | 请求方法                           | string                           | get \| post   | get    |
| data              | post 请求时请求体参数              | object                           | -             | -      |
| params            | url 查询参数                       | object                           | -             | -      |
| headers           | 请求头                             | object                           | -             | -      |
| withCredentials   | 上传请求时是否携带 cookie          | boolean                          | true \| false | false  |
| transformResponse | 成功时的回调，用于对数据进行预处理 | (response: object) => DataItem[] | -             | -      |
| error             | 请求发生异常的回调方法             | (error: object) => void          | -             | -      |
